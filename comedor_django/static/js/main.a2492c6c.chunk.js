(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,a){e.exports=a(314)},174:function(e,t,a){},179:function(e,t){},181:function(e,t){},189:function(e,t){},191:function(e,t){},219:function(e,t){},221:function(e,t){},222:function(e,t){},227:function(e,t){},229:function(e,t){},248:function(e,t){},260:function(e,t){},263:function(e,t){},314:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(166),c=a(0),l=a(8),i=(a(174),a(4)),s=a(316),u=a(25),m=a.n(u),d=function(){return n.a.createElement("aside",{className:"main-sidebar sidebar-dark-primary elevation-4"},n.a.createElement(l.b,{to:"/menu/",className:"brand-link"},n.a.createElement("img",{src:"http://18.234.135.140:8001/static/dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",className:"brand-image img-circle elevation-3",style:{opacity:.8}}),n.a.createElement("span",{className:"brand-text font-weight-light"},"ComedorApp")),n.a.createElement("div",{className:"sidebar"},n.a.createElement("nav",{className:"mt-2"},n.a.createElement("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},n.a.createElement("li",{className:"nav-header"},"OPCIONES"),n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{to:"/menu/",className:"nav-link"},n.a.createElement("i",{className:"nav-icon far fa-calendar-alt"}),n.a.createElement("p",null,"Inicio",n.a.createElement("span",{className:"badge badge-info right"},"2")))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{to:"/turnos/",className:"nav-link"},n.a.createElement("i",{className:"nav-icon far fa-image"}),n.a.createElement("p",null,"Turnos"))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{to:"/mi-turno/",className:"nav-link"},n.a.createElement("i",{className:"nav-icon fas fa-columns"}),n.a.createElement("p",null,"Mi turno")))))))},p=function(){var e=Object(c.n)(),t=localStorage.getItem("token"),a=m.a.decode(t);return n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item dropdown user-menu"},n.a.createElement(l.b,{to:"#",className:"nav-link dropdown-toggle","data-toggle":"dropdown"},n.a.createElement("img",{src:"http://18.234.135.140:8001/static/dist/img/user2-160x160.jpg",className:"user-image img-circle elevation-2",alt:""}),a&&n.a.createElement("span",{className:"d-none d-md-inline"},a.nombre)),n.a.createElement("ul",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},n.a.createElement("li",{className:"user-header bg-primary"},n.a.createElement("img",{src:"http://18.234.135.140:8001/dist/img/user2-160x160.jpg",className:"img-circle elevation-2",alt:""}),a&&n.a.createElement("p",null,a.nombre)),n.a.createElement("li",{className:"user-footer"},n.a.createElement(l.b,{to:"#",className:"btn btn-default btn-flat",onClick:function(){e("/configuraciones")}},"Perfil"),n.a.createElement("button",{className:"btn btn-default btn-flat float-right",onClick:function(){localStorage.removeItem("session"),localStorage.removeItem("token"),localStorage.removeItem("reserva_usuario"),e("/login")}},"Cerrar sesi\xf3n")))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{to:"#",className:"nav-link","data-widget":"fullscreen"},n.a.createElement("i",{className:"fas fa-expand-arrows-alt"}))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{to:"#",className:"nav-link","data-widget":"control-sidebar","data-slide":"true"},n.a.createElement("i",{className:"fas fa-th-large"}))))},f=function(){return n.a.createElement("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light"},n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{to:"#",className:"nav-link","data-widget":"pushmenu"},n.a.createElement("i",{className:"fas fa-bars"}))),n.a.createElement("li",{className:"nav-item d-none d-sm-inline-block"},n.a.createElement(l.b,{to:"/menu/",className:"nav-link"},"Inicio")),n.a.createElement("li",{className:"nav-item d-none d-sm-inline-block"},n.a.createElement(l.b,{to:"#",className:"nav-link"},"Contacto"))),n.a.createElement(p,null))},v=function(){return n.a.createElement("footer",{className:"main-footer"},n.a.createElement("div",{className:"float-right d-none d-sm-block"},n.a.createElement("b",null,"Version")," 3.2.0"),n.a.createElement("strong",null,"Copyright \xa9 2014-2021"," ",n.a.createElement("a",{href:"https://adminlte.io",target:"_blank",rel:"noopener noreferrer"},"AdminLTE.io"),". All rights reserved."))},E=function(){var e=Object(c.n)();return Object(r.useEffect)(function(){"1"===localStorage.getItem("session")&&e("/turnos")},[e]),null},h=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],u=Object(r.useState)(null),p=Object(i.a)(u,2),h=p[0],b=p[1],g=Object(r.useState)(!1),N=Object(i.a)(g,2),y=N[0],w=N[1],j=Object(r.useState)(null),O=Object(i.a)(j,2),x=O[0],_=O[1],k=Object(r.useState)(""),S=Object(i.a)(k,2),C=S[0],L=S[1],I=Object(c.n)(),T=localStorage.getItem("token"),F=m.a.decode(T);Object(r.useEffect)(function(){if(T)try{s.a.get("http://18.234.135.140:8001/api/turnos/").then(function(e){return o(e.data)}).catch(function(e){return console.error("Error fetching data:",e)})}catch(e){console.error("Error al decodificar el token:",e)}},[T]);var A=function(e){w(!0),_(e)};return n.a.createElement("div",null,n.a.createElement(f,null),n.a.createElement(d,null),n.a.createElement(E,null),n.a.createElement("div",{className:"content-wrapper"},n.a.createElement("section",{className:"content-header"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row mb-2"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("h1",null,"Detalle de turnos")),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("ol",{className:"breadcrumb float-sm-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(l.b,{to:"/menu/"},"Inicio")),n.a.createElement("li",{className:"breadcrumb-item active"},"Turnos")))))),n.a.createElement("section",{className:"content"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h3",{className:"card-title"},"Turnos"),n.a.createElement("div",{className:"card-tools"},n.a.createElement("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},n.a.createElement("i",{className:"fas fa-minus"})),n.a.createElement("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",title:"Remove"},n.a.createElement("i",{className:"fas fa-times"})))),n.a.createElement("div",{className:"card-body"},n.a.createElement("table",{className:"table table-bordered table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Turno"),n.a.createElement("th",null,"Cantidad"),n.a.createElement("th",null,"Estado"),n.a.createElement("th",null,"Acci\xf3n"))),n.a.createElement("tbody",null,a.map(function(e){return n.a.createElement("tr",{key:e.id_turno},n.a.createElement("td",null,e.turno),n.a.createElement("td",null,e.cant_turno,"/",e.cant_turno_total),n.a.createElement("td",{className:"project_progress"},n.a.createElement("div",{className:"progress progress-sm"},n.a.createElement("div",{className:"progress-bar ".concat((e.cant_turno/e.cant_turno_total*100).toFixed(0)>=100?"bg-red":"bg-default"),role:"progressbar","aria-valuenow":(e.cant_turno/e.cant_turno_total*100).toFixed(0),"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat((e.cant_turno/e.cant_turno_total*100).toFixed(0),"%")}})),n.a.createElement("small",null,(e.cant_turno/e.cant_turno_total*100).toFixed(0),"% Completado")),n.a.createElement("td",null,11===e.id_turno?"0"===localStorage.getItem("reserva_usuario")?n.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#modal-default",onClick:function(){return A(e)}},"Libre"):n.a.createElement("div",null,"No disp."):e.cant_turno===e.cant_turno_total?n.a.createElement("div",null,"No disp."):"0"===localStorage.getItem("reserva_usuario")?n.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#modal-default",onClick:function(){return A(e)}},"Libre"):n.a.createElement("div",null,"No disp.")))}))),n.a.createElement("div",{className:"modal fade",id:"modal-default"},n.a.createElement("div",{className:"modal-dialog"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h4",{className:"modal-title"},"Confirmaci\xf3n de Reserva"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},h&&n.a.createElement("div",null,n.a.createElement("p",null,h)),y&&x&&n.a.createElement("div",null,n.a.createElement("p",null,"\xbfEst\xe1 seguro que quiere reservar el turno: ",11===x.id_turno?x.turno:x.id_turno,"?"))),n.a.createElement("div",{className:"modal-footer justify-content-between"},n.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",onClick:function(){C&&I("/mi-turno/")}},y?"Cancelar":"Cerrar"),y&&n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){!function(e){if(T)try{s.a.post("http://18.234.135.140:8001/procesar-solicitud/",{id_turno:e.id_turno,id_usuario:F.usuario_id,nombre:F.nombre,ape_p:F.ape_p,hora_ini:e.hora_ini,hora_fin:e.hora_fin,accion:1}).then(function(e){e.data.error?b(e.data.error):(b(e.data.mensaje),L(e.data.cerrar),localStorage.setItem("reserva_usuario","1"))}).catch(function(e){e.response&&e.response.data&&e.response.data.error?b(e.response.data.error):b("Ha ocurrido un error al procesar la solicitud.")})}catch(t){console.error("Error al decodificar el token:",t)}w(!1)}(x),b("\xa1Turno reservado exitosamente!"),w(!1)}},"Aceptar")))))),n.a.createElement("div",{className:"card-footer"},"Footer")))),n.a.createElement(v,null))},b=function(){var e=Object(c.n)();return Object(r.useEffect)(function(){"1"!==localStorage.getItem("session")&&e("/login")},[e]),null},g=function(){var e=Object(c.n)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),o=a[0],l=a[1],u=Object(r.useState)(""),d=Object(i.a)(u,2),p=d[0],f=d[1],v=Object(r.useState)(""),E=Object(i.a)(v,2),h=E[0],g=E[1],N=Object(r.useState)(!1),y=Object(i.a)(N,2),w=y[0],j=y[1],O=Object(r.useState)(!1),x=Object(i.a)(O,2),_=x[0],k=x[1];return n.a.createElement("div",{className:"hold-transition login-page"},n.a.createElement(b,null),n.a.createElement("div",{className:"modal fade ".concat(w?"show":""),id:"modal-sm",style:{display:w?"block":"none"}},n.a.createElement("div",{className:"modal-dialog modal-sm"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h4",{className:"modal-title"},"Error"),n.a.createElement("button",{type:"button",className:"close",onClick:function(){return j(!1)}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("p",null,h)),n.a.createElement("div",{className:"modal-footer justify-content-between"},n.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",onClick:function(){return j(!1)}},"Cerrar"))))),n.a.createElement("div",{className:"login-box"},n.a.createElement("div",{className:"card card-outline card-primary"},n.a.createElement("div",{className:"card-header text-center"},n.a.createElement("a",{href:"/login",className:"h1"},n.a.createElement("b",null,"Comedor"),"App")),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"login-box-msg"},"Iniciar sesi\xf3n"),n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),g(""),j(!1),o.trim()&&p.trim()?s.a.post("http://18.234.135.140:8001//api/login/",{usuario:o,clave:p}).then(function(t){if(t.data.error)g(t.data.error),j(!0);else{localStorage.setItem("token",t.data.token);var a=m.a.decode(t.data.token),r=a.reserva?"1":"0",n=a.session?"1":"0";localStorage.setItem("reserva_usuario",r),localStorage.setItem("session",n),e("/turnos/")}}).catch(function(e){g("Hubo un error en el servidor"),j(!0),console.error("Error de inicio de sesi\xf3n:",e)}):k(!0)}},n.a.createElement("div",{className:"input-group mb-3 ".concat(_&&!o&&"has-error")},n.a.createElement("input",{type:"text",className:"form-control ".concat(_&&!o?"is-invalid":""),placeholder:"Usuario",value:o,onChange:function(e){return l(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-user"})))),n.a.createElement("div",{className:"input-group mb-3 ".concat(_&&!p&&"has-error")},n.a.createElement("input",{type:"password",className:"form-control ".concat(_&&!p?"is-invalid":""),placeholder:"Clave",value:p,onChange:function(e){return f(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-lock"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Ingresar"))),n.a.createElement("p",{className:"mb-1"},n.a.createElement("a",{href:"/recuperar-clave/"},"Olvide mi clave")),n.a.createElement("p",{className:"mb-0"},n.a.createElement("a",{href:"/registrar-usuario/",className:"text-center"},"Registrar usuario"))))))};s.a.defaults.xsrfHeaderName="X-CSRFToken",s.a.defaults.xsrfCookieName="csrftoken";var N=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],o=t[1],u=Object(r.useState)(""),p=Object(i.a)(u,2),E=p[0],h=p[1],g=Object(r.useState)(!1),N=Object(i.a)(g,2),y=N[0],w=N[1],j=Object(r.useState)(null),O=Object(i.a)(j,2),x=O[0],_=O[1],k=Object(r.useState)(null),S=Object(i.a)(k,2),C=S[0],L=S[1],I=localStorage.getItem("token"),T=m.a.decode(I),F=Object(r.useState)(""),A=Object(i.a)(F,2),P=A[0],G=A[1],R=Object(c.n)();Object(r.useEffect)(function(){if(I)try{var e=T.usuario_id;s.a.get("http://18.234.135.140:8001/api/mostrar-solicitud/".concat(e,"/")).then(function(e){o(e.data),e.data.error?_(e.data.error):_(e.data.mensaje)}).catch(function(e){return console.error("Error fetching data:",e)})}catch(t){console.error("Error al decodificar el token:",t)}},[]);var D=function(e){if(I&&e)try{var t=T.usuario_id,a=e.id_turno,r=function(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===t.length)return t.pop().split(";").shift()}("csrftoken");s.a.post("http://18.234.135.140:8001/api/liberar-reserva/",{id_usuario:t,id_turno:a},{headers:{"X-CSRFToken":r}}).then(function(e){e.data.error?_(e.data.error):(_(e.data.mensaje),G(e.data.cerrar),localStorage.setItem("reserva_usuario","0"))}).catch(function(e){console.error("Error al liberar la reserva:",e)}).finally(function(){w(!1)})}catch(n){console.error("Error al decodificar el token:",n)}};return n.a.createElement("div",null,n.a.createElement(f,null),n.a.createElement(d,null),n.a.createElement("div",{className:"content-wrapper"},n.a.createElement("section",{className:"content-header"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row mb-2"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("h1",null,"Detalle de la Reserva")),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("ol",{className:"breadcrumb float-sm-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(l.b,{to:"/menu/"},"Inicio")),n.a.createElement("li",{className:"breadcrumb-item active"},"Reserva")))))),n.a.createElement("section",{className:"content"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h3",{className:"card-title"},"Mi turno"),n.a.createElement("div",{className:"card-tools"},n.a.createElement("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},n.a.createElement("i",{className:"fas fa-minus"})),n.a.createElement("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",title:"Remove"},n.a.createElement("i",{className:"fas fa-times"})))),n.a.createElement("div",{className:"card-body"},n.a.createElement(b,null),a?n.a.createElement("div",null,n.a.createElement("p",null,"ID de Turno: ",a.id_turno),n.a.createElement("p",null,"ID de Usuario: ",a.id_usuario),n.a.createElement("p",null,"Nombre: ",a.nombre),n.a.createElement("p",null,"Apellido Paterno: ",a.ape_p),n.a.createElement("p",null,"Hora de Inicio: ",a.hora_ini),n.a.createElement("p",null,"Hora de Fin: ",a.hora_fin),n.a.createElement("p",null,"Acci\xf3n: ",a.accion),n.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#modal-default",onClick:function(){return function(e){if(e){var t=Number(e.id_turno);if(!Number.isInteger(t))return void h("El id_turno debe ser un n\xfamero.");h("\xbfEst\xe1s seguro de liberar la reserva del turno ".concat(e.id_turno,"?")),w(!0),L(e)}}(a)}},"liberar reserva")):n.a.createElement("p",null,"No se encontraron datos de reserva."),n.a.createElement("div",{className:"modal fade",id:"modal-default"},n.a.createElement("div",{className:"modal-dialog"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h4",{className:"modal-title"},"Confirmaci\xf3n"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},y?n.a.createElement("div",null,n.a.createElement("p",null,E)):n.a.createElement("div",null,x&&n.a.createElement("div",null,n.a.createElement("p",null,x)))),n.a.createElement("div",{className:"modal-footer justify-content-between"},n.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",onClick:function(){P&&R("/menu/")}},y?"Cancelar":"Cerrar"),y&&n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){D(C)}},"Aceptar")))))),n.a.createElement("div",{className:"card-footer"},"Footer")))),n.a.createElement(v,null))},y=function(){var e=Object(c.n)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),o=a[0],l=a[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1],f=Object(r.useState)(""),v=Object(i.a)(f,2),E=v[0],h=v[1],b=Object(r.useState)(""),g=Object(i.a)(b,2),N=g[0],y=g[1],w=Object(r.useState)(""),j=Object(i.a)(w,2),O=j[0],x=j[1],_=Object(r.useState)(""),k=Object(i.a)(_,2),S=k[0],C=k[1],L=Object(r.useState)(""),I=Object(i.a)(L,2),T=I[0],F=I[1],A=Object(r.useState)(""),P=Object(i.a)(A,2),G=P[0],R=P[1],D=Object(r.useState)(""),M=Object(i.a)(D,2),H=M[0],U=M[1],Y=Object(r.useState)(""),q=Object(i.a)(Y,2),B=q[0],J=q[1],V=Object(r.useState)(""),X=Object(i.a)(V,2),z=X[0],$=X[1],K=["usuario","clave","repetirClave","nombre","apellidoP","apellidoM","fechaNacimiento","correo","telefono"],Q=Object(r.useState)(!1),W=Object(i.a)(Q,2),Z=W[0],ee=W[1],te=Object(r.useState)(""),ae=Object(i.a)(te,2),re=ae[0],ne=ae[1];return n.a.createElement("div",{className:"hold-transition register-page2"},n.a.createElement("div",{className:"register-box"},n.a.createElement("div",{className:"modal fade ".concat(Z?"show":""),id:"modal-sm",style:{display:Z?"block":"none"}},n.a.createElement("div",{className:"modal-dialog modal-sm"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h4",{className:"modal-title"},"Error"),n.a.createElement("button",{type:"button",className:"close",onClick:function(){return ee(!1)}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("p",null,re)),n.a.createElement("div",{className:"modal-footer justify-content-between"},n.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",onClick:function(){return ee(!1)}},"Cerrar"))))),n.a.createElement("div",{className:"card card-outline card-success"},n.a.createElement("div",{className:"card-header text-center"},n.a.createElement("a",{href:"/login/",className:"h1"},n.a.createElement("b",null,"Comedor"),"App")),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"login-box-msg"},"Registrar nuevo usuario"),n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),ee(!1),ne("");var a={usuario:o,clave:d,repetirClave:E,nombre:N,apellidoP:O,apellidoM:S,fechaNacimiento:T,correo:G,telefono:H},r=K.filter(function(e){return!a[e]});if(r.length)$("Falta llenar los campos: "+r.join(", "));else{if(d!==E)return ne("Las claves no coinciden. Por favor, verifique."),void ee(!0);if(!/^[0-9]+$/.test(H))return ne("Error al ingresar el nro de telefono."),void ee(!0);var n={usuario:o,clave:d,repetir_clave:E,nombre:N,ape_p:O,ape_m:S,fec_nac:T,correo:G,telefono:H};s.a.post("http://18.234.135.140:8001/registrar-usuario/",n).then(function(t){t.data.error?(ne(t.data.error),ee(!0)):(J(t.data.mensaje),setTimeout(function(){e("/login")},1e3))}).catch(function(e){ne("Error al registrar el usuario"),console.error("Error al registrar el usuario:",e),ee(!0)})}}},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control ".concat(z&&!o?"is-invalid":""),placeholder:"Usuario",value:o,onChange:function(e){return l(e.target.value)}}),n.a.createElement("div",{class:"input-group-append"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement("span",{class:"fas fa-user"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"password",className:"form-control ".concat(z&&!d?"is-invalid":""),placeholder:"Clave",value:d,onChange:function(e){return p(e.target.value)}}),n.a.createElement("div",{class:"input-group-append"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement("span",{class:"fas fa-lock"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"password",className:"form-control ".concat(z&&!E?"is-invalid":""),placeholder:"Repetir Clave",value:E,onChange:function(e){return h(e.target.value)}}),n.a.createElement("div",{class:"input-group-append"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement("span",{class:"fas fa-lock"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control ".concat(z&&!N?"is-invalid":""),placeholder:"Nombre",value:N,onChange:function(e){return y(e.target.value)}}),n.a.createElement("div",{class:"input-group-append"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement("span",{class:"fas fa-user"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control ".concat(z&&!O?"is-invalid":""),placeholder:"Apellido Paterno",value:O,onChange:function(e){return x(e.target.value)}}),n.a.createElement("div",{class:"input-group-append"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement("span",{class:"fas fa-user"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control ".concat(z&&!S?"is-invalid":""),placeholder:"Apellido Materno",value:S,onChange:function(e){return C(e.target.value)}}),n.a.createElement("div",{class:"input-group-append"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement("span",{class:"fas fa-user"})))),n.a.createElement("label",null,"Fecha de nacimiento:"),n.a.createElement("div",{className:"input-group mb-3",id:"reservationdate","data-target-input":"nearest"},n.a.createElement("input",{type:"date",className:"form-control ".concat(z&&!T?"is-invalid":""),placeholder:"Fecha de Nacimiento (AAAA-MM-DD)",value:T,onChange:function(e){return F(e.target.value)}})),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"email",className:"form-control ".concat(z&&!G?"is-invalid":""),placeholder:"Correo",value:G,onChange:function(e){return R(e.target.value)}}),n.a.createElement("div",{class:"input-group-append"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement("span",{class:"fas fa-envelope"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{class:"input-group-prepend"},n.a.createElement("span",{class:"input-group-text"},n.a.createElement("i",{class:"fas fa-phone"}))),n.a.createElement("input",{type:"tel",className:"form-control ".concat(z&&!H?"is-invalid":""),placeholder:"Telefono",value:H,onChange:function(e){return U(e.target.value)}})),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Registrar")),n.a.createElement("a",{href:"/login/",className:"text-center"},"Ya tengo una cuenta")),B&&n.a.createElement("p",null,B)))))},w=a(9),j=a(36),O=a.n(j);function x(){x=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(C){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var o=t&&t.prototype instanceof d?t:d,c=Object.create(o.prototype),l=new _(n||[]);return r(c,"_invoke",{value:y(e,a,l)}),c}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var m={};function d(){}function p(){}function f(){}var v={};i(v,o,function(){return this});var E=Object.getPrototypeOf,h=E&&E(E(k([])));h&&h!==t&&a.call(h,o)&&(v=h);var b=f.prototype=d.prototype=Object.create(v);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){var n;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(n,c){!function r(n,o,c,l){var i=u(e[n],e,o);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,l)})}l(i.arg)}(r,o,n,c)})}return n=n?n.then(c,c):c()}})}function y(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=w(c,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function w(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(N.prototype),i(N.prototype,c,function(){return this}),e.AsyncIterator=N,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new N(s(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(b),i(b,l,"Generator"),i(b,o,function(){return this}),i(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var _=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(r.useState)("telefono"),u=Object(i.a)(l,2),m=u[0],d=u[1],p=Object(r.useState)(""),f=Object(i.a)(p,2),v=f[0],E=f[1],h=Object(r.useState)(""),b=Object(i.a)(h,2),g=b[0],N=b[1],y=Object(r.useState)(""),j=Object(i.a)(y,2),_=j[0],k=j[1],S=Object(r.useState)(""),C=Object(i.a)(S,2),L=C[0],I=C[1],T=Object(r.useState)(""),F=Object(i.a)(T,2),A=F[0],P=F[1],G=Object(r.useState)(!1),R=Object(i.a)(G,2),D=R[0],M=R[1],H=Object(c.n)(),U=Object(r.useState)(!1),Y=Object(i.a)(U,2),q=Y[0],B=Y[1],J=function(){var e=Object(w.a)(x().mark(function e(t){var r;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.trim()&&(v.trim()||"telefono"!==m)&&(g.trim()||"correo"!==m)){e.next=4;break}return B(!0),e.abrupt("return");case 4:return e.prev=4,e.next=7,s.a.post("http://18.234.135.140:8001/api/recuperar-clave/",{usuario:a,contacto:m,telefono:v,correo:g});case 7:(r=e.sent).data.error?(M(!1),O.a.fire({icon:"warning",title:r.data.error})):(k(r.data.mensaje),console.log(r.data),r.data.id_usuario&&(P(r.data.id_usuario),M(!0))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),k("Error al procesar la solicitud"),console.error("Error al procesar la solicitud:",e.t0);case 15:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(w.a)(x().mark(function e(){var t;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("http://18.234.135.140:8001/api/validar-codigo/",{id_usuario:A,codigo:L});case 3:(t=e.sent).data.error?k(t.data.error):(k(t.data.mensaje),localStorage.setItem("usuario",t.data.usuario),setTimeout(function(){H("/nueva-clave/")},1e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),k("Error al validar el c\xf3digo"),console.error("Error al validar el c\xf3digo:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"hold-transition register-page"},n.a.createElement("div",{className:"register-box"},n.a.createElement("div",{className:"card card-outline card-warning"},n.a.createElement("div",{className:"card-header text-center"},n.a.createElement("a",{href:"/login/",className:"h1"},n.a.createElement("b",null,"Comedor"),"App")),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"login-box-msg"},"Recuperar contrase\xf1a"),n.a.createElement("form",{onSubmit:J},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control ".concat(q&&!a?"is-invalid":""),placeholder:"Usuario",value:a,onChange:function(e){return o(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-user"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown"},"Accion"),n.a.createElement("div",{className:"dropdown-menu"},n.a.createElement("button",{className:"dropdown-item",type:"button",onClick:function(){return d("telefono")}},"Telefono"),n.a.createElement("button",{className:"dropdown-item",type:"button",onClick:function(){return d("correo")}},"Correo"))),"telefono"===m?n.a.createElement("input",{type:"tel",className:"form-control ".concat(q&&!v?"is-invalid":""),placeholder:"Tel\xe9fono",value:v,onChange:function(e){return E(e.target.value)}}):n.a.createElement("input",{type:"email",className:"form-control ".concat(q&&!g?"is-invalid":""),placeholder:"Correo",value:g,onChange:function(e){return N(e.target.value)}}),"telefono"===m?n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-phone"}))):n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-envelope"})))),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Recuperar Contrase\xf1a")),_&&n.a.createElement("div",null,n.a.createElement("p",null,_),D&&n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control rounded-0",placeholder:"Ingrese el c\xf3digo",value:L,onChange:function(e){return I(e.target.value)}}),n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-append"},n.a.createElement("button",{onClick:V,className:"btn btn-primary btn-block btn-flat"},"Validar C\xf3digo"))))),n.a.createElement("p",{className:"mt-3 mb-1"},n.a.createElement("a",{href:"/login/"},"Login"))))))},k=function(){var e=Object(c.n)();return Object(r.useEffect)(function(){localStorage.getItem("usuario")||e("/recuperar-clave")},[e]),null};function S(){S=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(C){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var o=t&&t.prototype instanceof d?t:d,c=Object.create(o.prototype),l=new x(n||[]);return r(c,"_invoke",{value:y(e,a,l)}),c}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var m={};function d(){}function p(){}function f(){}var v={};i(v,o,function(){return this});var E=Object.getPrototypeOf,h=E&&E(E(_([])));h&&h!==t&&a.call(h,o)&&(v=h);var b=f.prototype=d.prototype=Object.create(v);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){var n;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(n,c){!function r(n,o,c,l){var i=u(e[n],e,o);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,c,l)},function(e){r("throw",e,c,l)}):t.resolve(m).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,l)})}l(i.arg)}(r,o,n,c)})}return n=n?n.then(c,c):c()}})}function y(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return k()}for(a.method=n,a.arg=o;;){var c=a.delegate;if(c){var l=w(c,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function w(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(N.prototype),i(N.prototype,c,function(){return this}),e.AsyncIterator=N,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var c=new N(s(t,a,r,n),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(b),i(b,l,"Generator"),i(b,o,function(){return this}),i(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var C=function(){var e=Object(c.n)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),o=a[0],l=a[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1],f=Object(r.useState)(""),v=Object(i.a)(f,2),E=v[0],h=v[1],b=localStorage.getItem("usuario"),g=Object(r.useState)(!1),N=Object(i.a)(g,2),y=N[0],j=N[1],x=function(){var t=Object(w.a)(S().mark(function t(a){var r;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),b.trim()&&o.trim()&&d.trim()){t.next=4;break}return j(!0),t.abrupt("return");case 4:if(o===d){t.next=7;break}return O.a.fire({icon:"warning",title:"Las contrase\xf1as no coinciden. Por favor, verifique."}),t.abrupt("return");case 7:return t.prev=7,t.next=10,s.a.post("http://18.234.135.140:8001/api/cambiar-clave/",{usuario:b,clave:o,repetir_clave:d});case 10:(r=t.sent).data.error?O.a.fire({icon:"warning",title:r.data.error}):(h(r.data.mensaje),localStorage.removeItem("usuario"),setTimeout(function(){e("/login")},1e3)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),O.a.fire({icon:"warning",title:"Error al procesar la solicitud"}),console.error("Error al procesar la solicitud:",t.t0);case 18:case"end":return t.stop()}},t,null,[[7,14]])}));return function(e){return t.apply(this,arguments)}}();return n.a.createElement("div",{className:"register-box"},n.a.createElement(k,null),n.a.createElement("div",{className:"card card-outline card-primary"},n.a.createElement("div",{className:"card-header text-center"},n.a.createElement("a",{href:"/login/",className:"h1"},n.a.createElement("b",null,"Comedor"),"App")),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"login-box-msg"},"Cambiar contrase\xf1a"),n.a.createElement("form",{onSubmit:x},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control ".concat(y&&!b?"is-invalid":""),placeholder:"Usuario",value:b,disabled:!0}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-user"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"password",className:"form-control ".concat(y&&!o?"is-invalid":""),placeholder:"Nueva Contrase\xf1a",value:o,onChange:function(e){return l(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-lock"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"password",className:"form-control ".concat(y&&!d?"is-invalid":""),placeholder:"Repetir Nueva Contrase\xf1a",value:d,onChange:function(e){return p(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("span",{className:"fas fa-lock"})))),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Cambiar Contrase\xf1a"))),n.a.createElement("a",{href:"/login/",className:"text-center"},"Login"))),E&&n.a.createElement("p",null,E))},L=function(){return n.a.createElement("div",null,n.a.createElement(f,null),n.a.createElement(d,null),n.a.createElement(b,null),n.a.createElement("div",{className:"content-wrapper"},n.a.createElement("section",{className:"content-header"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row mb-2"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("h1",null,"Bienvenido!")),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("ol",{className:"breadcrumb float-sm-right"},n.a.createElement("li",{className:"breadcrumb-item"},n.a.createElement(l.b,{to:"/menu/"},"Inicio")),n.a.createElement("li",{className:"breadcrumb-item active"},"Men\xfa")))))),n.a.createElement("section",{className:"content"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h3",{className:"card-title"},"Men\xfa"),n.a.createElement("div",{className:"card-tools"},n.a.createElement("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",title:"Collapse"},n.a.createElement("i",{className:"fas fa-minus"})),n.a.createElement("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",title:"Remove"},n.a.createElement("i",{className:"fas fa-times"})))),n.a.createElement("div",{className:"card-body"},"Check the Header part you can find Legacy version of style.",n.a.createElement("br",null),"Start creating your amazing application!"),n.a.createElement("div",{className:"card-footer"},"Footer")))),n.a.createElement(v,null))},I=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,315)).then(function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),o(e),c(e)})};function T(){return n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/turnos/",element:n.a.createElement(h,null)})," ",n.a.createElement(c.a,{path:"/login/",element:n.a.createElement(g,null)}),n.a.createElement(c.a,{path:"/mi-turno/",element:n.a.createElement(N,null)}),n.a.createElement(c.a,{path:"/registrar-usuario/",element:n.a.createElement(y,null)}),n.a.createElement(c.a,{path:"/recuperar-clave/",element:n.a.createElement(_,null)}),n.a.createElement(c.a,{path:"/nueva-clave/",element:n.a.createElement(C,null)}),n.a.createElement(c.a,{path:"/menu/",element:n.a.createElement(L,null)}),n.a.createElement(c.a,{path:"/opciones/",element:n.a.createElement(d,null)}))}var F=document.getElementById("root");Object(o.createRoot)(F).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,null,n.a.createElement(T,null)))),I()}},[[167,3,2]]]);
//# sourceMappingURL=main.a2492c6c.chunk.js.map